<sl-hmaster-details [SelectedDetail]="DisplayDetails" (DetailClosed)="closeDetails()">
  <ng-template #hmdmaster>

    <div class="container">
      <ng-scrollbar style="height: 100%">
        <div *ngFor="let idr of rows" class="row">
          <div *ngFor="let idc of cols" class="col"
            [ngClass]="selectr!==null && selectr===idr && selectc!==null && selectc===idc ? 'selected-cell' : ''">
            <ng-container *ngIf="WidgetIn(idr,idc)===null; else widget">
              <button title="add control" class="button-addcontrol" (click)="showadd(idr, idc)">
                <i class="fa-solid fa-plus fa-2x"></i>
              </button>
            </ng-container>

            <ng-template #widget>
              <sl-dashboard-element-panel [item]="WidgetIn(idr,idc)!" [status]="viewStatus"
              [config]="ConfigIn(idr, idc)!" [Data]="datasource.data" [Fields]="datasource.Fields"
                (Copy)="copyElement($event)" (Delete)="deleteElement($event)" (Setup)="setupElement($event)"
              ></sl-dashboard-element-panel>
            </ng-template>

          </div>
        </div>
      </ng-scrollbar>
    </div>
  </ng-template>

  <ng-template #hmddetails let-values>

    <sl-smallheader [Avatar]="'assets/media/avatars/Dashboard.png'"
      [Background]="'assets/media/backgrounds/Dashboard.png'"
      [Title]="showSelect ? 'Selezionare il widget' : 'Configurazione widget'" [EditStatus]="'edit'" [canSave]="true"
      (Save)="SaveConfig()" (Cancel)="CancelConfig()">
      <ng-template #smallheadcontent>

        <ng-container *ngIf="showSelect">

          <sl-dashboard-item-list (Selected)="InitnewWidget($event)"></sl-dashboard-item-list>
        </ng-container>

        <ng-container *ngIf="showConfig">
          <sl-dashboard-element [item]="SelectedItem" [status]="configStatus"></sl-dashboard-element>
        </ng-container>



      </ng-template>
    </sl-smallheader>





  </ng-template>

</sl-hmaster-details>
